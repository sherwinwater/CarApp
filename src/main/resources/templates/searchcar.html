<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Car Management</title>
	<meta charset="utf-8">

<!-- 	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
 -->	
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
		integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
	 
	<link rel="stylesheet" type="text/css" media="all"  th:href="@{/css/bootstrap.min.css}" />
	<link rel="stylesheet" type="text/css" media="all"  th:href="@{/css/mycss.css}" />

</head>

<body>
	<!-- NAVBAR -->
		<nav class="navbar navbar-light row justify-content-center" style="background-color: #193153;margin-right: -13px;">
			<a class="navbar-brand text-white" th:href="@{/}">Car Management System</a>
		</nav>


	<!-- END NAVBAR -->
	<!-- LEFT SIDEBAR -->
	<div class="row">

		<div class="col-md-2 bg-dark">

			<div id="sidebar-nav" class="sidebar">
				<div class="sidebar-scroll">
					<nav class="nav flex-column text-center nav-dark" style="margin-right: -14px;">
						<a class="nav-link  text-white" th:href="@{/add}" >Add Cars </a>
						<a class="nav-link  text-white" th:href="@{/view}" >View Cars </a>
						<a class="nav-link  text-white active" th:href="@{/search}" >Search Cars </a>
						<a class="nav-link  text-white" th:href="@{/purchase}">Buy Cars </a>
					</nav>
				</div>
			</div>
		</div>

		<div class="col-md-10 ">

			<form class="mt-4" th:action="@{/searchcar}" method="get">
				<div class="form-group row">
					<label for="" class="col-sm-2 col-form-label text-right">By ID</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" name="id" th:value="${id}" required>
					</div>
					<div class="col-sm-3">
						<button type="submit" class="btn btn-info submit" style="background-color: #193153">search</button>
					</div>
				</div>
			</form>

			<form class="mt-4" th:action="@{/searchcar}" method="get">
				<div class="form-group row">
					<label for="" class="col-sm-2 col-form-label text-right">By Make</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" name="make" th:value="${make}" required>
					</div>
					<div class="col-sm-3">
						<button type="submit" class="btn btn-info submit" style="background-color: #193153">search</button>
					</div>
				</div>
			</form>

			<form class="mt-4" th:action="@{/searchcar}" method="get">
				<div class="form-group row">
					<label for="" class="col-sm-2 col-form-label text-right">By Model</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" name="carModel" th:value="${carModel}" required>
					</div>
					<div class="col-sm-3">
						<button type="submit" class="btn btn-info submit" style="background-color: #193153">search</button>
					</div>
				</div>
			</form>

			<form class="mt-4" th:action="@{/searchcar}" method="get">
				<div class="form-group row">
					<label for="" class="col-sm-2 col-form-label text-right">By Price</label>
					<div class="col-sm-3">
						<input type="text" class="form-control" name="minPrice" th:value="${minPrice}" required placeholder="min price">
					</div>
					<div class="col-sm-3">
						<input type="text" class="form-control" name="maxPrice" th:value="${maxPrice}" required placeholder="max price">
					</div>
					<div class="col-sm-3">
						<button type="submit" class="btn btn-info submit" style="background-color: #193153">search</button>
					</div>
				</div>
			</form>

			<div th:if="${search} == true">
				<div th:if="${cars} != null">

					<table class="table ml-5">
						<thead>
							<tr>
<!-- 										<th scope="col">Id</th>
 -->										<th scope="col">Make</th>
										<th scope="col">Model</th>
										<th scope="col">Colour</th>
										<th class="price">Price</th>
										<th scope="col">VIN</th>
										<th scope="col">Dealership</th>
										<th scope="col">Update</th>
										<th scope="col">Delete</th>
										<th scope="col">Buy</th>
									</tr>
									<tr th:each="car: ${cars}">
<!-- 										<th th:text="${car.id}" scope="row"></td>
 -->										<td th:text="${car.make}"></td>
										<td th:text="${car.model}"></td>
										<td th:text="${car.colour}"></td>
										<td
											th:text="'$'+${#numbers.formatDecimal(car.price, 3, 'COMMA', 2, 'POINT' )}"
											class="price"></td>
										<td th:text="${car.VIN}"></td>
										<td th:text="${car.dealership}"></td>
										
										<td><a href="" th:href="@{/edit/{id}(id=${car.id})}" ><i class="fas fa-edit text-info "></i></a>
										</td>
										<td>
											<a href="" th:href="@{/delete/search/{id}(id=${car.id})}"><i class="fas fa-trash text-danger"></i></a>
										</td>
										<td>
											<a href="" th:href="@{/purchase/{id}(id=${car.id})}"><i class="fas fa-shopping-cart text-success"></i></a>
										</td>

									</tr>
		
								</tbody>
					</table>
					<div class="text-center">
						<p><small class="text-muted mt-3 ">&#42 Price above is Canadian Dollar and effective at</small>
						<small class="text-muted" th:text="${#temporals.format(localDateTime, 'HH:mm dd-MM-yyyy ')}"></small></p>
					</div>
				</div>

				<div th:if="${cars} == null">
					<p class="alert alert-warning" role="alert">No Car Found.</p>
				</div>
			</div>

		</div>

	<!-- END MAIN -->

	<!-- END WRAPPER -->
<!-- 	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
		crossorigin="anonymous"></script> -->
		
		<script type="text/javascript" th:src="@{/js/jquery-3.5.1.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>


</body>

</html>